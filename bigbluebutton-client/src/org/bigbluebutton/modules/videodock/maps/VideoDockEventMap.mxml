<?xml version="1.0" encoding="utf-8"?>

<!--
BigBlueButton open source conferencing system - http://www.bigbluebutton.org

Copyright (c) 2010 BigBlueButton Inc. and by respective authors (see below).

BigBlueButton is free software; you can redistribute it and/or modify it under the 
terms of the GNU Lesser General Public License as published by the Free Software 
Foundation; either version 2.1 of the License, or (at your option) any later 
version. 

BigBlueButton is distributed in the hope that it will be useful, but WITHOUT ANY 
WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A 
PARTICULAR PURPOSE. See the GNU Lesser General Public License for more details.

You should have received a copy of the GNU Lesser General Public License along 
with BigBlueButton; if not, see <http://www.gnu.org/licenses/>.

$Id: $
-->

<EventMap xmlns:mx="http://www.adobe.com/2006/mxml" xmlns="http://mate.asfusion.com/">
	<mx:Script>
		<![CDATA[      
      import org.bigbluebutton.common.LogUtil;
      import org.bigbluebutton.common.events.CloseWindowEvent;
      import org.bigbluebutton.common.events.OpenWindowEvent;
      import org.bigbluebutton.core.config.model.ConfigModel;
      import org.bigbluebutton.core.modules.events.ModuleEvent;
      import org.bigbluebutton.modules.videodock.models.VideoDockOptions;
      import org.bigbluebutton.modules.videodock.views.VideoDockView;
      import org.bigbluebutton.modules.videodock.views.VideoDockViewMediator;
					
		]]>
	</mx:Script>
  
  <EventHandlers type="{ModuleEvent.MODULE_START}" >
    <ObjectBuilder generator="{VideoDockEventMapDelegate}" cache="global" />
    <MethodInvoker generator="{VideoDockEventMapDelegate}" method="moduleStart" arguments="{event}" />
  </EventHandlers>	
  
  <Injectors target="{VideoDockEventMapDelegate}">
    
    <PropertyInjector targetKey="videoDockViewMediator" source="{VideoDockViewMediator}"/>    
  </Injectors>	

  <Injectors target="{VideoDockOptions}">
    <PropertyInjector targetKey="configModel" source="{ConfigModel}"/>    
  </Injectors>	
  
  <Injectors target="{VideoDockViewMediator}">
    <PropertyInjector targetKey="dispatcher" source="{scope.dispatcher}"/>
    <PropertyInjector targetKey="videoDockView" source="{VideoDockView}"/>  
    <PropertyInjector targetKey="configOptions" source="{VideoDockOptions}"/>
  </Injectors>	
  
</EventMap>